<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Access</title>
    <link rel="stylesheet" href="auth-style.css">
</head>
<body>

<div class="auth-box">
    <h2 class="glitch">SYSTEM LOGIN</h2>

    <div id="login-form">
        <div class="input-group">
            <label>CODENAME</label>
            <input type="text" id="loginUser" placeholder="Enter Username">
        </div>

        <div class="input-group">
            <label>PASSWORD</label>
            <input type="password" id="loginPass" placeholder="Enter Password">
        </div>
        
        <button onclick="attemptLogin()">LOGIN</button>
    </div>

    <div id="otp-form" style="display:none;">
        <h3 style="color:gold;">‚ö†Ô∏è ADMIN VERIFICATION</h3>
        <p style="color:#ccc; font-size:12px;">OTP sent to registered Admin Email.</p>
        <div class="input-group">
            <label>ENTER OTP CODE</label>
            <input type="number" id="adminOtp" placeholder="e.g. 1234">
        </div>
        <button onclick="verifyAdminOtp()">VERIFY & ENTER</button>
    </div>

    <div class="auth-links">
        <a href="signup.html">Create Account</a>
    </div>
</div>

<script>
    // --- LOGIN LOGIC ---
    function attemptLogin() {
        const user = document.getElementById("loginUser").value;
        const pass = document.getElementById("loginPass").value;

        // 1. ADMIN CHECK
        if (user === "Admin" && pass === "Love@728296#$") {
            // Hide Login Form, Show OTP Form
            document.getElementById("login-form").style.display = "none";
            document.getElementById("otp-form").style.display = "block";
            alert("üîí Admin Detected! OTP Sent to Email (Demo OTP: 1234)");
            return;
        }

        // 2. NORMAL USER CHECK (Firebase Logic yahan aayega)
        // Abhi ke liye simulation:
        if (user && pass) {
            localStorage.setItem("agentName", user);
            localStorage.setItem("isAdmin", "false");
            alert("‚úÖ Welcome Agent " + user);
            window.location.href = "index.html";
        } else {
            alert("‚ùå Invalid Credentials");
        }
    }

    // --- OTP VERIFICATION ---
    function verifyAdminOtp() {
        const otp = document.getElementById("adminOtp").value;
        
        // Hardcoded OTP '1234' for now
        if(otp === "1234") {
            localStorage.setItem("agentName", "Admin");
            localStorage.setItem("isAdmin", "true");
            alert("üîì SYSTEM UNLOCKED: Welcome Commander.");
            window.location.href = "index.html";
        } else {
            alert("üö´ WRONG OTP! Access Denied.");
            location.reload();
        }
    }
</script>

</body>
</html>
