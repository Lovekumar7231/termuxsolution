<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Access</title>
    <link rel="stylesheet" href="auth-style.css">
</head>
<body>

<div class="auth-box">
    <h2 id="loginTitle" class="glitch">System Access</h2>

    <div class="input-group">
        <label>CODENAME (USERNAME)</label>
        <input type="text" id="loginUser" placeholder="Enter Codename">
    </div>

    <div class="input-group">
        <label>ACCESS KEY (PASSWORD)</label>
        <input type="password" id="loginPass" placeholder="Enter Password">
    </div>
    
    <p id="captchaQ" style="color: #00ff41; margin-bottom: 5px; font-weight:bold;">Solve: 5 + 5 = ?</p>
    <div class="input-group">
        <input id="captchaAns" type="number" placeholder="Enter Answer">
    </div>
    
    <button onclick="checkLogin()">Execute Login</button>

    <div class="auth-links">
        <a href="signup.html">Create Account</a> |
        <a href="forgot_password.html">Forgot Password?</a>
    </div>
</div>

<script>
    // Captcha Logic
    let num1 = Math.floor(Math.random() * 10);
    let num2 = Math.floor(Math.random() * 10);
    let sum = num1 + num2;
    document.getElementById("captchaQ").innerText = "Solve: " + num1 + " + " + num2 + " = ?";

    function checkLogin() {
        const enteredUser = document.getElementById("loginUser").value;
        const enteredPass = document.getElementById("loginPass").value;
        const enteredCaptcha = document.getElementById("captchaAns").value;

        // 1. Captcha Check
        if (parseInt(enteredCaptcha) !== sum) {
            alert("üö´ Access Denied: Wrong Math Answer!");
            return;
        }

        // 2. Saved Password Check (From Signup)
        const savedUser = localStorage.getItem("agentName");
        const savedPass = localStorage.getItem("agentPass");

        if (enteredUser === savedUser && enteredPass === savedPass) {
            alert("‚úÖ ACCESS GRANTED! Welcome Agent " + enteredUser);
            // ‡§Ø‡§π‡§æ‡§Å ‡§Ö‡§™‡§®‡•Ä ‡§Æ‡•á‡§® ‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü ‡§ï‡§æ ‡§≤‡§ø‡§Ç‡§ï ‡§°‡§æ‡§≤‡•á‡§Ç (‡§Ö‡§≠‡•Ä Google ‡§™‡§∞ ‡§≠‡•á‡§ú ‡§∞‡§π‡§æ ‡§π‡•Ç‡§Å)
            window.location.href = "https://www.google.com"; 
        } else {
            alert("‚ùå ACCESS DENIED: Invalid Username or Password!\n(Did you Signup first?)");
        }
    }
</script>

</body>
</html>

